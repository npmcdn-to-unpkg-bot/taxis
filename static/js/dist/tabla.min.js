"use strict";var RowItem=React.createClass({displayName:"RowItem",render:function render(){return React.createElement("tr",null,React.createElement("td",null,React.createElement("a",{href:this.props.url}," ",this.props.entrega," ")),React.createElement("td",null,this.props.status),React.createElement("td",{style:parseFloat(this.props.total).toFixed(2)>0?{color:"black"}:{color:"red"}},this.props.total))}});var Table=React.createClass({displayName:"Table",getInitialState:function getInitialState(){return{entregas:[],fecha_ultima_actualizacion:"",display:false}},componentDidMount:function componentDidMount(){this.loadCommentsFromServer();setInterval(this.loadCommentsFromServer,this.props.intervalCheck)},loadCommentsFromServer:function loadCommentsFromServer(){$.get(this.props.url,{tipo:this.props.tipo,fecha_ultima_actualizacion:this.state.fecha_ultima_actualizacion},function(data){var parced_data=JSON.parse(data);var new_fecha=parced_data.fecha_ultima_actualizacion;if(new_fecha!=this.state.fecha_ultima_actualizacion){this.setState({fecha_ultima_actualizacion:parced_data.fecha_ultima_actualizacion,entregas:parced_data.entregas});this.state.entregas.length>0?this.setState({display:true}):this.setState({display:false})}}.bind(this)).done(function(){}).fail(function(xhr,status,error){console.log(xhr);console.log(status);console.log(error)})},render:function render(){var entregas=[];entregas=this.state.entregas;return React.createElement("div",{className:"col-sm-4 col-xs-10 col-sm-offset-1 col-xs-offset-1 col-xs-push-0",style:{display:this.state.display?"block":"none"}},React.createElement("h2",null,this.props.titulo),React.createElement("table",{className:"table table-striped"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("td",null,"Entrega"),React.createElement("td",null,"Estado"),React.createElement("td",null,"Valor"))),React.createElement("tbody",null,entregas.map(function(l){return React.createElement(RowItem,{key:l.pk,entrega:l.entrega,status:l.status,total:l.total,url:l.url})}))))}});$(document).ready(function(){ReactDOM.render(React.createElement(Table,{url:"/entregas",tipo:"mis_entregas",titulo:"Entregas",intervalCheck:5e3}),document.getElementById("mis-entregas-table"));ReactDOM.render(React.createElement(Table,{url:"/entregas",tipo:"mis_administrados",titulo:"Taxis Administrados",intervalCheck:5e3}),document.getElementById("mis-entregas-administrados"));ReactDOM.render(React.createElement(Table,{url:"/entregas",tipo:"mis_propios",titulo:"Mis Taxis",intervalCheck:5e3}),document.getElementById("mis-entregas-propios"))});